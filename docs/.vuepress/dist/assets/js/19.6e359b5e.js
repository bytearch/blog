(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{400:function(t,a,_){"use strict";_.r(a);var r=_(10),s=Object(r.a)({},(function(){var t=this,a=t.$createElement,_=t._self._c||a;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("p"),_("div",{staticClass:"table-of-contents"},[_("ul",[_("li",[_("a",{attrs:{href:"#_1、概述"}},[t._v("1、概述")])]),_("li",[_("a",{attrs:{href:"#_2、重构那些事"}},[t._v("2、重构那些事")])]),_("li",[_("a",{attrs:{href:"#_3、如何从单体架构过渡到微服务架构"}},[t._v("3、如何从单体架构过渡到微服务架构")])]),_("li",[_("a",{attrs:{href:"#_4、内容概况"}},[t._v("4、内容概况")])]),_("li",[_("a",{attrs:{href:"#_5、总结"}},[t._v("5、总结")])])])]),_("p"),t._v(" "),_("h2",{attrs:{id:"_1、概述"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1、概述"}},[t._v("#")]),t._v(" 1、概述")]),t._v(" "),_("p",[t._v("不知不觉,2020已经要过去一半了,实属惶恐!今天给定了个flag,准备写一套系列文章《浅谈千万级系统重构》,抛开微服务技术栈不谈(未来将是另外一个系列)\n曾经简单的写过一篇《重构方案设计》,该系列文章相当于该篇文章的具体落地方案,目标本月完成本系列课程。")]),t._v(" "),_("h2",{attrs:{id:"_2、重构那些事"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2、重构那些事"}},[t._v("#")]),t._v(" 2、重构那些事")]),t._v(" "),_("ul",[_("li",[t._v("单体架构\n"),_("img",{attrs:{src:"http://storage.bytearch.com/images/single_struct.jpg",alt:"单体架构"}}),t._v("\n随着业务的发展,单体架构问题逐渐暴露")])]),t._v(" "),_("ol",[_("li",[t._v("业务越来越复杂，单体架构扩展性不足，业务扩展带来的代价越来越大")]),t._v(" "),_("li",[t._v("数据库单点写入瓶颈,mysql数据量太大查询效率不高")]),t._v(" "),_("li",[t._v("改动一个点可能导致其它地方出问题\n所以系统重构显得尤为重要!")])]),t._v(" "),_("ul",[_("li",[t._v("微服务架构\n"),_("img",{attrs:{src:"http://storage.bytearch.com/images/micro_project.jpg",alt:"微服务架构"}}),t._v("\n数据库层一般会分库/分表,以订单系统为例\n"),_("img",{attrs:{src:"http://storage.bytearch.com/images/order_project.jpg",alt:"订单系统"}})])]),t._v(" "),_("h2",{attrs:{id:"_3、如何从单体架构过渡到微服务架构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3、如何从单体架构过渡到微服务架构"}},[t._v("#")]),t._v(" 3、如何从单体架构过渡到微服务架构")]),t._v(" "),_("p",[_("img",{attrs:{src:"http://storage.bytearch.com/images/project-gray.jpg",alt:"方案"}})]),t._v(" "),_("ul",[_("li",[t._v("入口层采用按流量灰度，流量逐步增大,降低风险")]),t._v(" "),_("li",[t._v("db层双向同步,一旦有问题可以随时回滚到老系统,并且一般情况下新系统会分库分表")]),t._v(" "),_("li",[t._v("数据对比工具,实时/手动对比数据是否一致,提前发现潜在的问题")])]),t._v(" "),_("h2",{attrs:{id:"_4、内容概况"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4、内容概况"}},[t._v("#")]),t._v(" 4、内容概况")]),t._v(" "),_("p",[t._v("大致罗列了一下大概有如下内容点:")]),t._v(" "),_("ul",[_("li",[t._v("1). 基于openresty开发轻量级,按流量控制的灰度模块")]),t._v(" "),_("li",[t._v("2). 浅谈唯一Id生成器最佳实践")]),t._v(" "),_("li",[t._v("3). 浅谈mysql分库分表那些事儿")]),t._v(" "),_("li",[t._v("4). 浅谈基于MQ&binlog同步数据双写方案")]),t._v(" "),_("li",[t._v("5). 浅谈数据双写之对比工具实现方案"),_("br"),t._v("\n敬请期待。")])]),t._v(" "),_("h2",{attrs:{id:"_5、总结"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5、总结"}},[t._v("#")]),t._v(" 5、总结")]),t._v(" "),_("p",[t._v('记得第一次做千万订单系统重构(2016年),我们老大说了这样一句话:"重构这样的事，一辈子干一次就够了",确实,重构会遇到各种奇葩的问题,并且需要很多前期准备工作\n比如:模块拆分,权限回收,SQL改造等等。但是解决了这些问题，也会乐在其中。在这里,感谢那些曾经一起奋斗过的小伙伴!')])])}),[],!1,null,null,null);a.default=s.exports}}]);